<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-10">
        <!-- <h2>{{formControls.Name}}</h2> -->
        <h2>System</h2>
        <ol class="breadcrumb">
            <li>
                <a href="index.html">Home</a>
            </li>
            <!-- <li>
                <a>Organizations</a>
            </li> -->
            <li class="active">
                <strong>Menu Details</strong>
            </li>
        </ol>
    </div>
    <div class="col-sm-2">
        <div class="title-action">
            <!-- <a ui-sref="pages.edit-form({id:formControls.id})" class="btn btn-primary">Edit This form</a> -->
        </div>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">

    <div class="row">
        <div class="col-md-12">

            <div class="tabs-container">
                <div class="panel-body">

                    <fieldset>
                        <legend>
                            Systems
                        </legend>

                        <form #form="ngForm" (ngSubmit)="saveSystem(form)" class="{{submit?'submited':''}}">
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label for="NAME">Name <span class="help-block">*</span></label>
                                    <input name="NAME" placeholder="Name" type="text" class="form-control" [(ngModel)]="systemForm.NAME"
                                        required>
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="NAME2">Name 2</label>
                                    <input name="NAME2" placeholder="Name 2" type="text" class="form-control"
                                        [(ngModel)]="systemForm.NAME2">
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="order">Order <span class="help-block">*</span> </label>
                                    <input name="order" placeholder="Order" type="number" class="form-control"
                                        [(ngModel)]="systemForm.order" required>
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="URL">URL <span class="help-block">*</span></label>
                                    <input name="URL" placeholder="URL" type="text" class="form-control" [(ngModel)]="systemForm.URL"
                                        required>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12 text-right">
                                    <br>
                                    <br>
                                    <div class="btn-group">
                                        <input class="btn btn-default" type="reset" (click)="systemForm={};submit=false;resetForm(form)"
                                            value="Reset" />
                                        <input class="btn btn-primary" type="submit" value="Save" (click)="submit=true" />
                                    </div>
                                </div>
                            </div>
                        </form>
                    </fieldset>

                    <br>

                    <mat-tab-group (selectedTabChange)="changeTab($event)">
                        <mat-tab label="Systems">

                            <div class="col-md-12">
                                <div class="html5buttons">
                                    <br>
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','system')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','system')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="assets/images/ExcelLogoSmall.scale-80.png"></span></a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','system')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <br>
                                <mat-form-field>
                                    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                </mat-form-field>
                                <div class="x">
                                    <div class="table-container">
                                        <table mat-table #table [dataSource]="systemsDataSource" matSort>

                                            <ng-container matColumnDef="select">
                                                <th mat-header-cell *matHeaderCellDef>
                                                    <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
                                                        [indeterminate]="selection.hasValue() && !isAllSelected()">
                                                    </mat-checkbox>
                                                </th>
                                                <td style="width: 5%" mat-cell *matCellDef="let row">
                                                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                                                        [checked]="selection.isSelected(row)">
                                                    </mat-checkbox>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="ID">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                                <td style="width: 5%" mat-cell *matCellDef="let element">
                                                    {{element.ID}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="NAME">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.NAME}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="NAME2">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.NAME2}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="order">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>order</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.order}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    <i (click)="updateSystem(element)" class="fa fa-edit" placement="left"
                                                        ngbTooltip="Edit"></i>
                                                    <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                        mwlConfirmationPopover [popoverTitle]="'Confirm'"
                                                        [popoverMessage]="'are you sure to delete?'" placement="left"
                                                        (confirm)="deleteSystem(element.ID)" ngbTooltip="Delete"></i>
                                                </td>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="systemTableColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: systemTableColumns;" (click)="updateSystem(row)"
                                                class=" mat-row {{systemForm.ID===row.ID?'active':'not-active'}}"></tr>

                                        </table>
                                    </div>
                                    <mat-paginator #paginator [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                        [showFirstLastButtons]="true"></mat-paginator>

                                </div>
                            </div>

                        </mat-tab>

                        <mat-tab label="Modules">
                            <div class="col-md-12">
                                <div class="html5buttons">
                                    <br>
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection2.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','module')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','module')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="
                                            assets/images/ExcelLogoSmall.scale-80.png">
                                            </span> </a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','module')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field>
                                        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field>
                                        <mat-select placeholder="System" (selectionChange)="reloadModuleTable(moduleForm.ST_CNT_ID)"
                                            [(ngModel)]="moduleForm.ST_CNT_ID">
                                            <mat-option [value]=""> All </mat-option>
                                            <mat-option *ngFor="let system of systems" [value]="system.ID">
                                                {{system.NAME}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="x">
                                    <div class="table-container">
                                        <table mat-table #table2 [dataSource]="modulesDataSource" matSort>

                                            <ng-container matColumnDef="select">
                                                <th mat-header-cell *matHeaderCellDef>
                                                    <mat-checkbox (change)="$event ? masterToggle2() : null" [checked]="selection2.hasValue() && isAllSelected2()"
                                                        [indeterminate]="selection2.hasValue() && !isAllSelected2()">
                                                    </mat-checkbox>
                                                </th>
                                                <td mat-cell *matCellDef="let row">
                                                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection2.toggle(row) : null"
                                                        [checked]="selection2.isSelected(row)">
                                                    </mat-checkbox>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="ID">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                                <td style="width: 5%" mat-cell *matCellDef="let element">
                                                    {{element.ID}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="NAME">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.NAME}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="NAME2">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.NAME2}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="order">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>order</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.order}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="System">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>System</th>
                                                <td mat-cell *matCellDef="let element">{{element.System}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <i (click)="updateModule(element)" class="fa fa-edit" placement="left"
                                                        ngbTooltip="Edit"></i>
                                                    <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                        mwlConfirmationPopover [popoverTitle]="'Confirm'"
                                                        [popoverMessage]="'are you sure to delete?'" placement="left"
                                                        (confirm)="deleteModule(element.ID)" ngbTooltip="Delete"></i>
                                                </td>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="moduleTableColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: moduleTableColumns;" (click)="updateModule(row)"
                                                class=" mat-row {{moduleForm.ID===row.ID?'active':'not-active'}}"></tr>

                                        </table>
                                    </div>
                                    <mat-paginator #paginator2 [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                        [showFirstLastButtons]="true"></mat-paginator>
                                </div>

                                <div class="hr-line-dashed"></div>


                                <div class="col-md-12 extra-form">

                                    <fieldset class="animated fadeInDown">
                                        <legend>
                                            Module
                                        </legend>
                                        <form #form="ngForm" (ngSubmit)="saveModule(form)" class="{{submit2?'submited':''}}">
                                            <div class="row">

                                                <div class="form-group col-md-3">
                                                    <label for="ST_CNT_ID">System <span class="help-block">*</span></label>
                                                    <select name="ST_CNT_ID" class="form-control" [(ngModel)]="moduleForm.ST_CNT_ID"
                                                        required>
                                                        <option [ngValue]="">Select</option>

                                                        <option *ngFor="let system of systems" [ngValue]="system.ID">{{system.NAME}}</option>
                                                    </select>
                                                </div>

                                                <div class="form-group col-md-3">
                                                    <label for="NAME">Name <span class="help-block">*</span></label>
                                                    <input name="NAME" placeholder="Name" type="text" class="form-control"
                                                        [(ngModel)]="moduleForm.NAME" required>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="NAME2">Name 2</label>
                                                    <input name="NAME2" placeholder="Name 2" type="text" class="form-control"
                                                        [(ngModel)]="moduleForm.NAME2">
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="order">Order <span class="help-block">*</span> </label>
                                                    <input name="order" placeholder="Order" type="number" class="form-control"
                                                        [(ngModel)]="moduleForm.order" required>
                                                </div>

                                            </div>

                                            <div class="row">
                                                <div class="form-group col-md-3">
                                                    <label for="URL">URL <span class="help-block">*</span></label>
                                                    <input name="URL" placeholder="URL" type="text" class="form-control"
                                                        [(ngModel)]="moduleForm.URL" required>
                                                </div>
                                                <div class="col-md-8 text-right">
                                                    <br>
                                                    <br>
                                                    <input class="btn btn-default" type="reset" (click)="moduleForm={};submit2=false;resetForm(form)"
                                                        value="Reset" />

                                                    <input class="btn btn-primary" type="submit" value="Save" (click)="submit2=true" />
                                                </div>
                                            </div>
                                        </form>
                                    </fieldset>
                                </div>

                            </div>
                        </mat-tab>

                        <mat-tab label="SubModules">
                            <div class="col-md-12">
                                <div class="html5buttons">
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection3.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','subModule')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','subModule')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="assets/images/ExcelLogoSmall.scale-80.png"></span></a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','subModule')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="System" (selectionChange)="reloadModuleTable(subModuleForm.ST_CNT_ID)"
                                                [(ngModel)]="subModuleForm.ST_CNT_ID">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let system of systems" [value]="system.ID">
                                                    {{system.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="module" [disabled]="!modules ||modules.length===0"
                                                [(ngModel)]="subModuleForm.ST_CTY_ID" (selectionChange)="reloadSubModuleTable(subModuleForm.ST_CNT_ID,subModuleForm.ST_CTY_ID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let module of modules" [value]="module.ID">
                                                    {{module.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="x">
                                    <div class="table-container">
                                        <table mat-table #table3 [dataSource]="subModulesDataSource" matSort>
                                            <ng-container matColumnDef="select">
                                                <th mat-header-cell *matHeaderCellDef>
                                                    <mat-checkbox (change)="$event ? masterToggle3() : null" [checked]="selection3.hasValue() && isAllSelected3()"
                                                        [indeterminate]="selection3.hasValue() && !isAllSelected3()">
                                                    </mat-checkbox>
                                                </th>
                                                <td mat-cell *matCellDef="let row">
                                                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection3.toggle(row) : null"
                                                        [checked]="selection3.isSelected(row)">
                                                    </mat-checkbox>
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="ID">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                                <td style="width: 5%" mat-cell *matCellDef="let element">
                                                    {{element.ID}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="NAME">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.NAME}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="NAME2">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.NAME2}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="order">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>order</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.order}} </td>
                                            </ng-container>
                                            <ng-container matColumnDef="System">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header> System </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.System)}}
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="Module">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Module </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getModuleName(element.Module)}}
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <i (click)="updateSubModule(element)" class="fa fa-edit" placement="left"
                                                        ngbTooltip="Edit"></i>
                                                    <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                        mwlConfirmationPopover [popoverTitle]="'Confirm'"
                                                        [popoverMessage]="'are you sure to delete?'" placement="left"
                                                        (confirm)="deleteSubModule(element.ID)" ngbTooltip="Delete"></i>
                                                </td>
                                            </ng-container>
                                            <tr mat-header-row *matHeaderRowDef="subModuleTableColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: subModuleTableColumns;" (click)="updateSubModule(row)"
                                                class=" mat-row {{subModuleForm.ID===row.ID?'active':'not-active'}}"></tr>
                                        </table>
                                    </div>

                                    <mat-paginator #paginator3 [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                        showFirstLastButtons></mat-paginator>

                                </div>

                                <div class="hr-line-dashed"></div>



                                <div class="col-md-12 extra-form" *ngIf="extraForm==='subModule'">
                                    <fieldset class="animated fadeInDown">
                                        <legend>
                                            Sub Module
                                        </legend>
                                        <form #form="ngForm" (ngSubmit)="saveSubModule(form)" class="{{submit3?'submited':''}}">

                                            <div class="row">

                                                <div class="form-group col-md-3">
                                                    <label for="ST_CNT_ID">System <span class="help-block">*</span></label>
                                                    <select name="ST_CNT_ID" class="form-control" [(ngModel)]="subModuleForm.ST_CNT_ID"
                                                        required>
                                                        <option [ngValue]="">Select</option>

                                                        <option *ngFor="let system of systems" [ngValue]="system.ID">{{system.NAME}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="ST_CTY_ID">Module <span class="help-block">*</span></label>
                                                    <select name="ST_CTY_ID" placeholder="Module" class="form-control"
                                                        [(ngModel)]="subModuleForm.ST_CTY_ID" [disabled]="!modules ||modules.length===0"
                                                        required>
                                                        <option ngValue="">Select</option>
                                                        <option *ngFor="let module of modules" [ngValue]="module.ID">{{module.NAME}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="NAME">Name <span class="help-block">*</span></label>
                                                    <input name="NAME" placeholder="Name" type="text" class="form-control"
                                                        [(ngModel)]="subModuleForm.NAME" required>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="NAME2">Name 2</label>
                                                    <input name="NAME2" placeholder="Name 2" type="text" class="form-control"
                                                        [(ngModel)]="subModuleForm.NAME2">
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="form-group col-md-3">
                                                    <label for="order">Order <span class="help-block">*</span> </label>
                                                    <input name="order" placeholder="Order" type="number" class="form-control"
                                                        [(ngModel)]="subModuleForm.order" required>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="URL">URL <span class="help-block">*</span></label>
                                                    <input name="URL" placeholder="URL" type="text" class="form-control"
                                                        [(ngModel)]="subModuleForm.URL" required>
                                                </div>
                                                <div class="col-md-5 text-right">
                                                    <br>
                                                    <br>
                                                    <input class="btn btn-default" type="reset" (click)="subModuleForm={};submit3=false;resetForm(form)"
                                                        value="Reset" />

                                                    <input class="btn btn-primary " type="submit" value="Save" (click)="submit3=true" />
                                                </div>
                                            </div>

                                        </form>
                                    </fieldset>
                                </div>
                            </div>
                        </mat-tab>

                        <mat-tab label="Pages">
                            <div class="col-md-12">
                                <fieldset>
                                    <legend>
                                        Page
                                    </legend>
                                    <form #form="ngForm" (ngSubmit)="savePage(form)" class="{{submit4?'submited':''}}">

                                        <div class="row">

                                            <div class="form-group col-md-3">
                                                <label for="ST_CNT_ID">System <span class="help-block">*</span></label>
                                                <select name="ST_CNT_ID" class="form-control" [(ngModel)]="pageForm.ST_CNT_ID"
                                                    required>
                                                    <option [ngValue]="">Select</option>

                                                    <option *ngFor="let system of systems" [ngValue]="system.ID">{{system.NAME}}</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <label for="ST_CTY_ID">Module <span class="help-block">*</span></label>
                                                <select name="ST_CTY_ID" placeholder="Module" class="form-control"
                                                    [(ngModel)]="pageForm.ST_CTY_ID" [disabled]="!modules ||modules.length===0"
                                                    required>
                                                    <option ngValue="">Select</option>
                                                    <option *ngFor="let module of modules" [ngValue]="module.ID">{{module.NAME}}</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <label for="subModules">Sub Module <span class="help-block">*</span></label>
                                                <select name="subModules" placeholder="Sub Module" class="form-control"
                                                    [(ngModel)]="pageForm.subModules" [disabled]="!subModules ||subModules.length===0"
                                                    required>
                                                    <option ngValue="">Select</option>
                                                    <option *ngFor="let subModule of subModules" [ngValue]="subModule.ID">{{module.NAME}}</option>
                                                </select>
                                            </div>

                                            <div class="form-group col-md-3">
                                                <label for="NAME">Name <span class="help-block">*</span></label>
                                                <input name="NAME" placeholder="Name" type="text" class="form-control"
                                                    [(ngModel)]="pageForm.NAME" required>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <div class="form-group col-md-3">
                                                <label for="NAME2">Name 2</label>
                                                <input name="NAME2" placeholder="Name 2" type="text" class="form-control"
                                                    [(ngModel)]="subModuleForm.NAME2">
                                            </div>
                                            <div class="form-group col-md-3">
                                                <label for="order">Order <span class="help-block">*</span> </label>
                                                <input name="order" placeholder="Order" type="number" class="form-control"
                                                    [(ngModel)]="subModuleForm.order" required>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <label for="URL">URL <span class="help-block">*</span></label>
                                                <input name="URL" placeholder="URL" type="text" class="form-control"
                                                    [(ngModel)]="subModuleForm.URL" required>
                                            </div>
                                            <div class="col-md-12 text-right">
                                                <br>
                                                <br>
                                                <input class="btn btn-default" type="reset" (click)="pageForm={};submit4=false;resetForm(form)"
                                                    value="Reset" />

                                                <input class="btn btn-primary " type="submit" value="Save" (click)="submit4=true" />
                                            </div>
                                        </div>

                                    </form>
                                </fieldset>

                                <div class="hr-line-dashed"></div>

                                <div class="html5buttons">
                                    <br>
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','Majorcode')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','Majorcode')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="assets/images/ExcelLogoSmall.scale-80.png"></span></a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','Majorcode')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <br>
                                <div class="col-md-12">
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="System" (selectionChange)="reloadPageTable(pageForm.ST_CNT_ID)"
                                                [(ngModel)]="pageForm.ST_CNT_ID">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let system of systems" [value]="system.ID">
                                                    {{system.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="module" [disabled]="!modules ||modules.length===0"
                                                [(ngModel)]="pageForm.ST_CTY_ID" (selectionChange)="reloadPageTable(pageForm.ST_CNT_ID,pageForm.ST_CTY_ID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let module of modules" [value]="module.ID">
                                                    {{module.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="Sub Module" [disabled]="!subModules ||subModules.length===0"
                                                [(ngModel)]="pageForm.subModule" (selectionChange)="reloadPageTable(pageForm.subModule)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let subModule of subModules" [value]="subModule.ID">
                                                    {{subModule.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="table-container">

                                    <table mat-table #table4 [dataSource]="pagesDataSource" matSort>
                                        <ng-container matColumnDef="select">
                                            <th mat-header-cell *matHeaderCellDef>
                                                <mat-checkbox (change)="$event ? masterToggle4() : null" [checked]="selection4.hasValue() && isAllSelected4()"
                                                    [indeterminate]="selection4.hasValue() && !isAllSelected4()">
                                                </mat-checkbox>
                                            </th>
                                            <td style="width: 5%" mat-cell *matCellDef="let row">
                                                <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection4.toggle(row) : null"
                                                    [checked]="selection4.isSelected(row)">
                                                </mat-checkbox>
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="ID">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                            <td style="width: 5%" mat-cell *matCellDef="let element">
                                                {{element.ID}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="NAME">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                            <td style="width: 15%" mat-cell *matCellDef="let element">
                                                {{element.NAME}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="NAME2">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                            <td style="width: 15%" mat-cell *matCellDef="let element">
                                                {{element.NAME2}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="order">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>order</th>
                                            <td style="width: 20%" mat-cell *matCellDef="let element">
                                                {{element.order}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="System">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> System </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{getSystemName(element.System)}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="Module">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Module </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{getModuleName(element.Module)}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="subModule">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Sub Module </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{getModuleName(element.subModule)}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="actions">
                                            <th mat-header-cell *matHeaderCellDef>Actions</th>
                                            <td style="width: 10%" mat-cell *matCellDef="let element">
                                                <i (click)="updatePage(element)" class="fa fa-edit" placement="left"
                                                    ngbTooltip="Edit"></i>
                                                <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                    mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                                    placement="left" (confirm)="deletePage(element.ID)" ngbTooltip="Delete"></i>
                                            </td>
                                        </ng-container>

                                        <tr mat-header-row *matHeaderRowDef="pageTableColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: pageTableColumns;" (click)="updatePage(row)"
                                            class=" mat-row {{pageForm.ID===row.ID?'active':'not-active'}}"></tr>

                                    </table>
                                </div>
                                <mat-paginator #paginator4 [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                    [showFirstLastButtons]="true"></mat-paginator>

                            </div>

                        </mat-tab>

                        <mat-tab label="Actions">
                            <div class="col-md-12">

                                <div class="col-md-12 extra-form" *ngIf="extraForm==='actions'">

                                    <fieldset class="animated fadeInDown">
                                        <legend>
                                            Action
                                        </legend>
                                        <form #form="ngForm" (ngSubmit)="saveAction(form)" class="{{submit5?'submited':''}}">
                                            <div class="row">

                                                <div class="form-group col-md-3">
                                                    <label for="ST_CNT_ID">System <span class="help-block">*</span></label>
                                                    <select name="ST_CNT_ID" class="form-control" [(ngModel)]="actionForm.ST_CNT_ID"
                                                        required>
                                                        <option [ngValue]="">Select</option>
                                                        <option *ngFor="let system of systems" [ngValue]="system.ID">{{system.NAME}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="ST_CTY_ID">Module <span class="help-block">*</span></label>
                                                    <select name="ST_CTY_ID" placeholder="Module" class="form-control"
                                                        [(ngModel)]="actionForm.ST_CTY_ID" [disabled]="!modules ||modules.length===0"
                                                        required>
                                                        <option ngValue="">Select</option>
                                                        <option *ngFor="let module of modules" [ngValue]="module.ID">{{module.NAME}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="subModules">Sub Module <span class="help-block">*</span></label>
                                                    <select name="subModules" placeholder="Sub Module" class="form-control"
                                                        [(ngModel)]="actionForm.subModules" [disabled]="!subModules ||subModules.length===0"
                                                        required>
                                                        <option ngValue="">Select</option>
                                                        <option *ngFor="let subModule of subModules" [ngValue]="subModule.ID">{{module.NAME}}</option>
                                                    </select>
                                                </div>

                                                <div class="form-group col-md-3">
                                                    <label for="pages">Page <span class="help-block">*</span></label>
                                                    <select name="pages" placeholder="Page" class="form-control"
                                                        [(ngModel)]="actionForm.page" [disabled]="!pages ||pages.length===0"
                                                        required>
                                                        <option ngValue="">Select</option>
                                                        <option *ngFor="let page of pages" [ngValue]="page.ID">{{module.NAME}}</option>
                                                    </select>
                                                </div>

                                            </div>

                                            <div class="row">

                                                <div class="form-group col-md-3">
                                                    <label for="NAME">Name <span class="help-block">*</span></label>
                                                    <input name="NAME" placeholder="Name" type="text" class="form-control"
                                                        [(ngModel)]="actionForm.NAME" required>
                                                </div>

                                                <div class="form-group col-md-3">
                                                    <label for="NAME2">Name 2</label>
                                                    <input name="NAME2" placeholder="Name 2" type="text" class="form-control"
                                                        [(ngModel)]="actionForm.NAME2">
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="order">Order <span class="help-block">*</span> </label>
                                                    <input name="order" placeholder="Order" type="number" class="form-control"
                                                        [(ngModel)]="actionForm.order" required>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="URL">URL <span class="help-block">*</span></label>
                                                    <input name="URL" placeholder="URL" type="text" class="form-control"
                                                        [(ngModel)]="actionForm.URL" required>
                                                </div>
                                                <div class="col-md-12 text-right">
                                                    <br>
                                                    <br>
                                                    <input class="btn btn-default" type="reset" (click)="actionForm={};submit4=false;resetForm(form)"
                                                        value="Reset" />

                                                    <input class="btn btn-primary " type="submit" value="Save" (click)="submit5=true" />
                                                </div>
                                            </div>

                                        </form>
                                    </fieldset>
                                    <div class="hr-line-dashed"></div>

                                </div>


                                <div class="html5buttons">
                                    <br>
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection2.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','minorcode')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','minorcode')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="assets/images/ExcelLogoSmall.scale-80.png"></span>
                                        </a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','minorcode')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="System" (selectionChange)="reloadActionsTable(actionForm.ST_CNT_ID)"
                                                [(ngModel)]="subModuleForm.ST_CNT_ID">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let system of systems" [value]="system.ID">
                                                    {{system.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="module" [disabled]="!modules ||modules.length===0"
                                                [(ngModel)]="subModuleForm.ST_CTY_ID" (selectionChange)="reloadActionsTable(actionForm.ST_CNT_ID,actionForm.ST_CTY_ID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let module of modules" [value]="module.ID">
                                                    {{module.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="Sub Module" [disabled]="!subModules ||subModules.length===0"
                                                [(ngModel)]="subModuleForm.subModule" (selectionChange)="reloadActionsTable(actionForm.subModule)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let subModule of subModules" [value]="subModule.ID">
                                                    {{subModule.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="Page" [disabled]="!pages ||pages.length===0"
                                                [(ngModel)]="pageForm.subModule" (selectionChange)="reloadActionsTable(actionForm.subModule)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let page of pages" [value]="page.ID">
                                                    {{page.NAME}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="x">
                                    <div class="table-container">
                                        <table mat-table #table5 [dataSource]="actionsDataSource" matSort>

                                            <ng-container matColumnDef="select">
                                                <th mat-header-cell *matHeaderCellDef>
                                                    <mat-checkbox (change)="$event ? masterToggle5() : null" [checked]="selection5.hasValue() && isAllSelected5()"
                                                        [indeterminate]="selection5.hasValue() && !isAllSelected5()">
                                                    </mat-checkbox>
                                                </th>
                                                <td mat-cell *matCellDef="let row">
                                                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection5.toggle(row) : null"
                                                        [checked]="selection5.isSelected(row)">
                                                    </mat-checkbox>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="ID">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                                <td style="width: 5%" mat-cell *matCellDef="let element">
                                                    {{element.ID}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="NAME">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.NAME}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="NAME2">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.NAME2}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="order">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>order</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.order}} </td>
                                            </ng-container>
                                            <ng-container matColumnDef="System">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header> System </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.System)}}
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="Module">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Module </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getModuleName(element.Module)}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="subModule">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Sub Module </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSubModuleName(element.subModule)}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="page">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Page </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getModuleName(element.page)}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <i (click)="updateAction(element)" class="fa fa-edit" placement="left"
                                                        ngbTooltip="Edit"></i>
                                                    <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                        mwlConfirmationPopover [popoverTitle]="'Confirm'"
                                                        [popoverMessage]="'are you sure to delete?'" placement="left"
                                                        (confirm)="deleteAction(element.ID)" ngbTooltip="Delete"></i>
                                                </td>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="actionTableColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: actionTableColumns;" (click)="updateAction(row)"
                                                class=" mat-row {{actionForm.ID===row.ID?'active':'not-active'}}"></tr>

                                        </table>
                                    </div>
                                    <mat-paginator #paginator5 [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                        [showFirstLastButtons]="true"></mat-paginator>
                                </div>



                            </div>
                        </mat-tab>


                    </mat-tab-group>


                </div>


            </div>
        </div>

    </div>
</div>